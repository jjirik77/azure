<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Ethics: An Interactive Learning Tool</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap');

        :root {
            --dark-navy-bg: #0a101f;
            --surface-color: #10192b;
            --accent-glow: #00bfff;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --border-color: #2d3748;
            --success: #28a745;
            --error: #dc3545;
            --shadow-color: rgba(0, 191, 255, 0.1);
            --shadow-color-hover: rgba(0, 191, 255, 0.3);
            --transition-fast: all 0.3s ease-in-out;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-navy-bg);
            background-image: radial-gradient(circle at top, #10192b, var(--dark-navy-bg));
            color: var(--text-primary);
            margin: 0;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background-image: url('https://www.transparenttextures.com/patterns/subtle-noise.png');
            opacity: 0.03;
            pointer-events: none;
            z-index: -1;
        }

        #app-container {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 1200px;
            overflow: hidden;
            display: flex;
            height: 90vh;
        }
        
        #left-panel {
            width: 280px;
            background-color: var(--dark-navy-bg);
            padding: 1.5rem;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            flex-shrink: 0;
        }

        #right-panel {
            flex-grow: 1;
            overflow-y: auto;
            position: relative;
        }

        header {
            background: linear-gradient(180deg, var(--surface-color), #0a101fcc);
            color: #fff;
            padding: 2rem 1.5rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            border-bottom: 1px solid var(--border-color);
        }

        .header-glow {
            position: absolute;
            top: 50%; left: 50%;
            width: 400px; height: 200px;
            background: var(--accent-glow);
            border-radius: 50%;
            filter: blur(100px);
            transform: translate(-50%, -50%);
            opacity: 0.1;
            animation: pulseGlow 8s infinite alternate;
            z-index: 0;
        }

        @keyframes pulseGlow {
            from { opacity: 0.05; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 0.15; transform: translate(-50%, -50%) scale(1.2); }
        }

        header h1 {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            font-size: 2em;
            font-weight: 700;
            position: relative;
            z-index: 1;
            text-shadow: 0 0 15px rgba(0, 191, 255, 0.2);
        }

        main {
            padding: 2.5rem;
        }

        /* Nav Menu Styles */
        #nav-menu h2 {
            font-family: 'Poppins', sans-serif;
            color: var(--text-secondary);
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 1.5rem 0 1rem 0.5rem;
        }
        .nav-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-secondary);
            border: none;
            background: transparent;
            cursor: pointer;
            transition: var(--transition-fast);
        }
        .nav-btn:hover {
            background-color: rgba(0, 191, 255, 0.1);
            color: var(--text-primary);
        }
        .nav-btn.active {
            background-color: var(--accent-glow);
            color: var(--dark-navy-bg);
            font-weight: 700;
            box-shadow: 0 0 20px var(--shadow-color);
        }

        .section-header {
            border-left: 6px solid var(--accent-glow);
            padding-left: 1.25rem;
            font-size: 2rem;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 0.5px;
            color: var(--text-primary);
            margin: 0 0 2rem 0;
        }

        .content-box {
            background: rgba(10, 16, 31, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
        }
        .content-box h3 {
            color: var(--text-primary);
            font-size: 1.5em;
            margin-bottom: 1rem;
        }
        .content-box h4 {
            color: var(--accent-glow);
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            font-size: 1.1em;
        }
        .content-box p, .content-box li {
            font-size: 1.1em;
            line-height: 1.7;
            color: var(--text-secondary);
        }
        .content-box ul {
            padding-left: 1.25rem;
            margin-top: 0.5rem;
            list-style-type: disc;
            space-y-2;
        }
        
        /* Risk Slider */
        .risk-rating-container {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .risk-rating-container label {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        .risk-slider {
            width: 100%;
            cursor: pointer;
        }
        .risk-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }
        .submit-risk-btn {
            background: transparent;
            border: 1px solid var(--accent-glow);
            color: var(--accent-glow);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition-fast);
            margin-top: 1rem;
        }
        .submit-risk-btn:hover {
            background-color: var(--accent-glow);
            color: var(--dark-navy-bg);
        }
        .risk-feedback {
            margin-top: 1rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Glossary Styles */
        .glossary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .flip-card {
            background-color: transparent;
            perspective: 1000px;
            min-height: 150px;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }
        .flip-card-front {
            background-color: var(--dark-navy-bg);
            font-size: 1.25em;
            font-weight: 600;
        }
        .flip-card-back {
            background-color: var(--surface-color);
            color: var(--text-secondary);
            transform: rotateY(180deg);
            font-size: 0.95em;
        }

        /* Connections Tool Styles */
        #connections-tool {
            display: flex;
            gap: 2rem;
            align-items: flex-start;
        }
        #connections-controls {
            flex: 1;
            min-width: 250px;
        }
        #connections-chart-container {
            flex: 1.5;
            min-width: 300px;
        }
        .connection-select {
            width: 100%;
            background-color: var(--dark-navy-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.75rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        /* Assessment Section Styles */
        #assessment-container {
            animation: enhancedFadeIn 0.7s ease-out;
        }
        
        @keyframes enhancedFadeIn {
            from { opacity: 0; transform: translateY(25px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        #progress-bar-container {
            width: 100%;
            background-color: var(--dark-navy-bg);
            border-radius: 10px;
            margin-bottom: 2rem;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        #progress-bar {
            width: 0%; height: 10px;
            background: linear-gradient(90deg, var(--accent-glow), #2575fc);
            border-radius: 10px;
            transition: width 0.5s ease-in-out;
        }

        #scenario-text {
            font-size: 1.25em;
            line-height: 1.6;
            margin-bottom: 2rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        #choices-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .choice-btn {
            background-color: var(--dark-navy-bg);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            font-size: 1em;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            text-align: left;
        }

        .choice-btn:hover {
            transform: translateY(-3px);
            border-color: var(--accent-glow);
            color: var(--text-primary);
            background-color: rgba(0, 191, 255, 0.05);
        }
        
        .choice-btn.correct {
            border-color: var(--success);
            color: var(--success);
            font-weight: 600;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .choice-btn.incorrect {
            border-color: var(--error);
            color: var(--error);
            font-weight: 600;
            background-color: rgba(220, 53, 69, 0.1);
        }

        #feedback-container {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: 12px;
            display: none;
            animation: enhancedFadeIn 0.5s;
            background-color: var(--dark-navy-bg);
            border: 1px solid var(--border-color);
        }
        
        #feedback-text {
            font-size: 1.05em;
            line-height: 1.6;
            margin: 0;
            color: var(--text-secondary);
        }

        /* General Button Styles */
        .action-btn {
            background: var(--accent-glow);
            color: var(--dark-navy-bg);
            border: none;
            border-radius: 12px;
            padding: 1rem 2rem;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            display: inline-block;
            margin: 2.5rem auto 0;
            transition: var(--transition-fast);
            box-shadow: 0 0 20px var(--shadow-color);
        }

        .action-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 7px 30px var(--shadow-color-hover);
        }

        #score-container {
            text-align: right;
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-top: 1.5rem;
        }
        
        #final-score-container {
            text-align: center;
            animation: enhancedFadeIn 0.5s;
        }

        #final-score-container h2 {
            font-size: 2.5em;
            font-family: 'Poppins', sans-serif;
            color: var(--accent-glow);
            text-shadow: 0 0 15px var(--accent-glow);
            margin-bottom: 1rem;
        }
        
        #final-score-container p {
            font-size: 1.2em;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }
        
        .final-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <div id="app-container">
        <div id="left-panel">
            <div id="nav-menu">
                <h2>Learn</h2>
                <button class="nav-btn active" data-target="intro-section">Introduction</button>
                <div id="challenges-nav"></div>
                <h2>Synthesize</h2>
                <button class="nav-btn" data-target="connections-section">Solution Explorer</button>
                <button class="nav-btn" data-target="glossary-section">Glossary</button>
                <h2>Assess</h2>
                <button class="nav-btn" data-target="assessment-container">Knowledge Check</button>
            </div>
        </div>
        <div id="right-panel">
            <header>
                <div class="header-glow"></div>
                <h1>AI Ethics: An Interactive Learning Tool</h1>
            </header>
            <main>
                <!-- Content Sections -->
                <div id="content-area">
                    <!-- Dynamic content will be injected here -->
                </div>

                <!-- Assessment Section (Initially Hidden) -->
                <div id="assessment-container" class="hidden">
                    <div id="progress-bar-container">
                        <div id="progress-bar"></div>
                    </div>
                    <div id="scenario-container">
                        <p id="scenario-text"></p>
                        <div id="choices-container"></div>
                    </div>
                    <div id="feedback-container">
                        <p id="feedback-text"></p>
                    </div>
                    <div id="score-container">
                        <p>Score: <span id="score">0</span></p>
                    </div>
                    <div style="text-align: center;">
                        <button id="next-btn" class="action-btn" style="display: none;">Next Scenario</button>
                    </div>
                    <div id="final-score-container" class="hidden">
                        <h2>Congratulations!</h2>
                        <p>You've completed the AI Ethics Challenge.</p>
                        <p>Your final score is: <span id="final-score"></span></p>
                        <div class="final-buttons">
                            <button id="restart-btn" class="action-btn">Try Again</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        const challenges = [
            { id: 'bias', title: 'Algorithmic Bias & Fairness', description: 'AI can amplify societal biases found in data, leading to unfair outcomes in areas like hiring and justice.', solution: '<ul><li>Use diverse and representative training data.</li><li>Conduct regular audits for bias.</li><li>Implement transparent algorithms and fairness metrics.</li></ul>', chartData: [5, 4, 3, 3] },
            { id: 'privacy', title: 'Privacy & Surveillance', description: "AI's need for vast data raises concerns about how personal information is collected, used, and protected from misuse.", solution: '<ul><li>Employ data minimization and anonymization techniques.</li><li>Provide users with clear control over their data.</li><li>Implement robust cybersecurity measures to prevent breaches.</li></ul>', chartData: [5, 5, 2, 4] },
            { id: 'accountability', title: 'Accountability & The "Black Box"', description: 'The complexity of some AI models makes their decisions hard to explain, creating challenges for accountability when errors occur.', solution: '<ul><li>Develop "Explainable AI" (XAI) to make models more transparent.</li><li>Establish clear legal frameworks for liability.</li><li>Ensure meaningful human oversight in critical systems.</li></ul>', chartData: [5, 4, 5, 2] },
            { id: 'jobs', title: 'Job Displacement', description: 'AI automation raises concerns about job loss and economic inequality, requiring strategies for a fair societal transition.', solution: '<ul><li>Invest in reskilling and upskilling programs.</li><li>Strengthen social safety nets for displaced workers.</li><li>Focus on creating new roles centered on human-AI collaboration.</li></ul>', chartData: [5, 1, 3, 4] },
            { id: 'autonomous', title: 'Autonomous Systems', description: 'AI in systems like self-driving cars forces us to confront difficult dilemmas, such as how they should act in no-win scenarios.', solution: '<ul><li>Develop transparent ethical frameworks for decision-making.</li><li>Engage in public debate to set societal standards.</li><li>Conduct rigorous testing in simulated environments.</li></ul>', chartData: [5, 5, 4, 2] },
            { id: 'ip', title: 'Intellectual Property', description: 'Generative AI challenges our ideas of authorship and copyright, creating new legal and ethical questions about originality.', solution: '<ul><li>Develop clear laws regarding AI-generated content.</li><li>Create systems for artists to give or deny consent for their work to be used in training data.</li><li>Explore new models for attribution and compensation.</li></ul>', chartData: [5, 3, 2, 4] },
            { id: 'environment', title: 'Environmental Impact', description: 'Training large AI models consumes immense electricity and water, creating a significant, often hidden, environmental footprint.', solution: '<ul><li>Develop more energy-efficient algorithms and hardware.</li><li>Power data centers with renewable energy sources.</li><li>Promote transparency about the environmental cost of AI services.</li></ul>', chartData: [4, 5, 2, 3] },
            { id: 'thinking', title: 'Critical Thinking Erosion', description: 'Over-reliance on AI for answers can weaken our ability to think critically, solve problems, and learn deeply.', solution: '<ul><li>Use AI as a tool for brainstorming and refinement, not replacement.</li><li>Focus educational strategies on analyzing and questioning AI output.</li><li>Promote digital literacy to understand AI\'s limitations.</li></ul>', chartData: [2, 2, 4, 5] },
            { id: 'misinformation', title: 'Misinformation & Deepfakes', description: 'AI-generated "deepfakes" can create hyper-realistic false content, eroding trust and enabling widespread deception.', solution: '<ul><li>Develop advanced detection tools to identify synthetic media.</li><li>Implement digital watermarking to verify authentic content.</li><li>Increase public education on media literacy.</li></ul>', chartData: [4, 5, 3, 5] },
            { id: 'cybercrime', title: 'Amplified Cybercrime', description: 'AI can be used to create sophisticated, scalable cyberattacks, such as adaptive malware and hyper-personalized phishing scams.', solution: '<ul><li>Use AI-powered defensive tools to detect anomalies and threats.</li><li>Develop robust security protocols for AI systems themselves.</li><li>Enhance employee and public training on AI-driven scams.</li></ul>', chartData: [3, 5, 3, 4] },
            { id: 'dependency', title: 'Emotional Dependency', description: 'AI companions designed to be empathetic can lead to users forming unhealthy emotional bonds, potentially at the expense of real human relationships.', solution: '<ul><li>Design AI to encourage real-world interaction.</li><li>Be transparent with users that they are interacting with an AI.</li><li>Build in features that promote digital well-being and usage limits.</li></ul>', chartData: [2, 4, 4, 5] },
            { id: 'attention', title: 'Attention & Focus', description: 'AI-driven content algorithms, designed for maximum engagement, can shorten attention spans and make deep, focused work more difficult.', solution: '<ul><li>Modify algorithms to include "friction" or natural breaks.</li><li>Provide users with more control over their content feeds.</li><li>Promote conscious use and digital wellness practices.</li></ul>', chartData: [3, 4, 4, 5] }
        ];
        
        const glossaryTerms = [
            { term: 'Explainable AI (XAI)', definition: 'AI systems that can explain their decisions or predictions to a human user, increasing transparency and trust.' },
            { term: 'Data Minimization', definition: 'The principle of collecting only the personal data that is strictly necessary to accomplish a specific purpose.' },
            { term: 'Deepfake', definition: 'Synthetic media (video or audio) in which a person\'s likeness is replaced with someone else\'s, often with malicious intent.' },
            { term: 'Digital Watermarking', definition: 'A marker covertly embedded in a noise-tolerant signal such as an audio, video or image data. It is typically used to identify ownership of the copyright of such signal.'},
            { term: 'Anthropomorphism', definition: 'The attribution of human traits, emotions, or intentions to non-human entities, such as AI chatbots.'},
            { term: 'Cognitive Offloading', definition: 'The tendency to rely on external resources (like AI) to reduce mental effort, which can impact memory and critical thinking skills.'}
        ];

        const scenarios = [
            {
                scenario: "A large tech company has developed an AI-powered recruitment tool that analyzes resumes and predicts job performance. The tool significantly speeds up the hiring process. However, an internal audit reveals the AI is consistently ranking female candidates lower for technical roles, likely because it was trained on historical data from a male-dominated industry. What should the company do?",
                choices: [
                    { text: "Continue using the tool to save time and money, but manually review the applications of female candidates who are rejected.", isCorrect: false, explanation: "While manual review is a step in the right direction, it doesn't address the root cause of the bias in the AI. The tool will continue to perpetuate unfairness, and this approach may not be scalable or consistently applied." },
                    { text: "Stop using the tool immediately and revert to the old, slower manual screening process until the bias can be completely eliminated.", isCorrect: true, explanation: "This is the most ethical choice. It prioritizes fairness and non-discrimination over efficiency. The company should halt the use of a biased tool and invest in fixing the algorithm and diversifying the training data before redeploying it." },
                    { text: "Adjust the AI's algorithm to give a 'bonus' score to female candidates to counteract the bias.", isCorrect: false, explanation: "This approach, while well-intentioned, can be seen as a form of reverse discrimination and may not be legally or ethically sound. It also doesn't fix the underlying problem of a biased model and could have unintended consequences." }
                ]
            },
            {
                scenario: "A self-driving car is in a situation where it must choose between hitting a group of pedestrians or swerving and crashing, which would harm its passenger. How should the car be programmed to react?",
                choices: [
                    { text: "Prioritize the safety of the passenger at all costs.", isCorrect: false, explanation: "This utilitarian approach raises ethical questions about the value of one life versus many. It could also discourage people from buying self-driving cars if they are programmed to sacrifice their owners." },
                    { text: "Prioritize the safety of the greatest number of people, even if it means sacrificing the passenger.", isCorrect: false, explanation: "This is a classic utilitarian dilemma. While it seems logical to save more lives, it creates a difficult ethical situation where the car is programmed to potentially harm its owner. There is no universally agreed-upon 'correct' answer, highlighting the complexity of programming ethics into machines." },
                    { text: "The car's programming in such an edge case is a complex ethical problem with no single right answer, requiring public debate and regulation.", isCorrect: true, explanation: "This is the most nuanced and accurate answer. The 'trolley problem' for autonomous vehicles is a profound ethical challenge with no easy solution. It requires a broader societal conversation involving ethicists, policymakers, and the public to establish a framework for these life-and-death decisions." }
                ]
            },
            {
                scenario: "An artist uses a generative AI to create a series of stunning images for a gallery exhibition. The AI was trained on a massive dataset of images from the internet, including copyrighted works. The artist wins a prestigious award for their 'original' creations. Is this ethical?",
                choices: [
                    { text: "Yes, the artist used the AI as a tool, and their creative prompts and curation are a form of artistry.", isCorrect: false, explanation: "While the artist's input is a creative act, the AI's output is directly derived from the work of other artists, many of whom did not consent to their work being used for training. This raises significant questions about copyright and fair use." },
                    { text: "No, the AI-generated images are a form of plagiarism, as they are based on the work of other artists without permission or credit.", isCorrect: false, explanation: "While it's not traditional plagiarism, it does raise serious ethical concerns about intellectual property. The AI is essentially remixing existing art without attribution, which undermines the value of the original creators' work." },
                    { text: "It's a gray area. The use of generative AI in art challenges our traditional notions of authorship and copyright, and the legal and ethical frameworks are still evolving.", isCorrect: true, explanation: "This is the most accurate answer. The rise of generative AI has created new and complex ethical and legal challenges for the art world. There is ongoing debate about how to handle issues of copyright, originality, and fair compensation for artists whose work is used in training data." }
                ]
            },
            {
                scenario: "A social media company uses a sophisticated AI to track user behavior, not just on their platform but across the entire internet. They use this data to create incredibly detailed user profiles and sell highly targeted advertising. Is this a justifiable business practice?",
                choices: [
                    { text: "Yes, users agree to the terms of service, and the personalized ads are a fair trade for a free service.", isCorrect: false, explanation: "Many users are not fully aware of the extent of data collection, and the 'consent' given in long, complex terms of service is often not meaningful. The potential for manipulation and privacy invasion is significant." },
                    { text: "No, this level of tracking is a serious invasion of privacy, and the data could be used to manipulate users or be exposed in a data breach.", isCorrect: true, explanation: "This is the most ethically sound position. Extensive, non-transparent tracking of users' online activity is a major privacy concern. It creates a power imbalance between the company and the user and can lead to manipulative practices and security risks." },
                    { text: "It's acceptable as long as the company is transparent about the data they collect and gives users some control over their ad preferences.", isCorrect: false, explanation: "While transparency and user control are important, they often don't go far enough. The sheer volume of data collected can be difficult for users to comprehend, and the 'control' offered may be limited. The fundamental issue of mass data collection for profit remains." }
                ]
            },
            {
                scenario: "A tech company is launching a new, powerful AI model. They have two options for their data centers: build them in a region with a coal-heavy power grid for lower costs, or build them in a region with abundant renewable energy (hydro, solar) at a higher cost. What is the most ethically responsible choice?",
                choices: [
                    { text: "Choose the lower-cost, coal-powered option to make the AI service more affordable and accessible to a wider audience.", isCorrect: false, explanation: "This prioritizes economic accessibility over environmental responsibility. While affordability is important, ignoring the significant carbon footprint of AI operations has long-term negative consequences for everyone, which is an ethical issue in itself." },
                    { text: "Choose the renewable energy option, absorbing the higher cost to minimize the AI's environmental impact, and be transparent about it.", isCorrect: true, explanation: "This is the most ethically sound choice. It acknowledges the hidden environmental costs of AI and takes proactive steps to mitigate them. This aligns with principles of corporate social responsibility and sustainability." },
                    { text: "Use the coal-powered option but purchase carbon credits to 'offset' the emissions, keeping costs low while claiming to be carbon neutral.", isCorrect: false, explanation: "Carbon offsetting is a controversial practice. While better than doing nothing, it doesn't reduce the actual emissions being pumped into the atmosphere. The most ethical approach is to avoid creating the emissions in the first place." }
                ]
            },
            {
                scenario: "A high school history teacher encourages students to use a generative AI to help write their essays. The goal is to improve their final submissions. What is the most ethical way to implement this?",
                choices: [
                    { text: "Allow students to use the AI to generate the entire essay and submit it as their own, as the final product is what matters.", isCorrect: false, explanation: "This approach completely undermines the purpose of the assignment, which is to develop the student's own research, writing, and critical thinking skills. It is a form of academic dishonesty." },
                    { text: "Teach students to use the AI as a brainstorming partner or a tool to refine their own writing, requiring them to cite its use and submit their original drafts.", isCorrect: true, explanation: "This is the most responsible approach. It treats the AI as a tool to augment, not replace, human intellect. It fosters critical thinking by having students evaluate and build upon the AI's suggestions while maintaining academic integrity through citation." },
                    { text: "Forbid the use of AI entirely, as it's impossible to know if students are using it ethically.", isCorrect: false, explanation: "While seemingly safe, this approach is unrealistic in the modern world. It misses a crucial opportunity to teach students how to use powerful new technologies responsibly, a skill they will need for the rest of their lives." }
                ]
            },
            {
                scenario: "A political campaign uses deepfake technology to create a video of their opponent supposedly making an offensive statement. The video is incredibly realistic and goes viral just before an election. What is the primary ethical failure here?",
                choices: [
                    { text: "The primary failure is the poor quality of the deepfake, as a better one would have been more effective.", isCorrect: false, explanation: "The technical quality of the deepfake is irrelevant to the ethical problem. The core issue is the act of deception itself, not how well it was executed." },
                    { text: "The primary failure is the malicious use of AI to deceive the public and manipulate a democratic process.", isCorrect: true, explanation: "This is the core ethical violation. Using AI to fabricate 'evidence' and mislead voters is a direct attack on the principles of truth, trust, and informed consent that are essential for a functioning democracy." },
                    { text: "There is no ethical failure; it's just an advanced form of political advertising, and voters should be smart enough to spot a fake.", isCorrect: false, explanation: "This argument wrongly places the entire burden of detection on the public. The sophistication of deepfakes can make them nearly impossible for the average person to spot, and the deliberate act of creating them to deceive is a profound ethical breach." }
                ]
            },
            {
                scenario: "A criminal organization uses an AI to analyze public social media data to identify wealthy individuals who are currently on vacation. The AI then crafts highly personalized phishing emails to their colleagues, requesting urgent wire transfers. Why is this AI-powered approach more dangerous than traditional phishing?",
                choices: [
                    { text: "It's not more dangerous; criminals have always used public information for scams.", isCorrect: false, explanation: "While true that criminals use public information, AI dramatically increases the scale, speed, and personalization of these attacks, making them far more effective and harder to detect than manual methods." },
                    { text: "It's more dangerous because the AI can write emails without any spelling mistakes.", isCorrect: false, explanation: "While correct grammar is a factor, it's a minor part of the much larger threat. The core danger lies in the AI's ability to automate and personalize the entire attack chain." },
                    { text: "It's more dangerous because AI automates the targeting and personalization of attacks at a massive scale, making them more convincing and efficient.", isCorrect: true, explanation: "This is the correct answer. The AI's ability to process vast amounts of data to identify perfect targets and then craft uniquely tailored, convincing messages is what makes this threat so potent. It combines scale with personalization in a way that was previously impossible." }
                ]
            },
            {
                scenario: "A company develops an AI companion app designed to combat loneliness. The AI is so effective that many users start spending more time with it than with their friends and family, leading to social withdrawal. What is the company's primary ethical obligation?",
                choices: [
                    { text: "To maximize the AI's human-like qualities to better fulfill the user's emotional needs, as this is the product's purpose.", isCorrect: false, explanation: "While well-intentioned, this could exacerbate the problem of unhealthy dependency. The ethical obligation is not just to create an effective product, but to consider its broader impact on user well-being." },
                    { text: "To do nothing; users are responsible for managing their own social lives and relationships.", isCorrect: false, explanation: "This ignores the company's responsibility for the foreseeable consequences of its product. When a technology is designed to be highly engaging on a deep emotional level, its creator bears some ethical weight for potential negative outcomes." },
                    { text: "To build in features that encourage users to maintain real-world connections and set usage limits, acknowledging the potential for unhealthy dependency.", isCorrect: true, explanation: "This is the most responsible choice. It balances the product's goal with a duty of care, implementing safeguards to mitigate known psychological risks and promote a healthy balance between digital and real-world interaction." }
                ]
            },
            {
                scenario: "A social media platform's new AI algorithm is incredibly successful at keeping users engaged for hours by showing a rapid-fire, endless stream of short videos. However, studies begin to show a correlation between heavy use of the app and a reduced ability to concentrate on long-form tasks like reading or studying. What should the platform do?",
                choices: [
                    { text: "Nothing. The platform's goal is to maximize engagement, and users are free to choose how they spend their time.", isCorrect: false, explanation: "This view sidesteps the ethical responsibility that comes with designing systems that directly manipulate human attention. The algorithm is not a neutral tool; it's designed to exploit cognitive biases for profit." },
                    { text: "Acknowledge the issue and modify the algorithm to incorporate 'friction'—such as natural breaks or reminders—to promote healthier consumption patterns, even if it slightly lowers engagement metrics.", isCorrect: true, explanation: "This is the most ethical approach. It recognizes the platform's impact on cognitive health and takes proactive steps to mitigate harm, prioritizing user well-being over maximum engagement." },
                    { text: "Launch a marketing campaign about 'digital wellness' and 'taking breaks' while making no changes to the highly addictive algorithm.", isCorrect: false, explanation: "This is an ethically weak response that places the entire burden on the user while the company continues to profit from the problematic system. It's a form of 'ethics washing' without making substantive changes." }
                ]
            }
        ];
        
        // --- App State ---
        let currentScenarioIndex = 0;
        let score = 0;
        let connectionsChart;

        // --- DOM Elements ---
        const contentArea = document.getElementById('content-area');
        const assessmentContainerEl = document.getElementById('assessment-container');
        const progressBar = document.getElementById('progress-bar');
        const scenarioTextEl = document.getElementById('scenario-text');
        const choicesContainerEl = document.getElementById('choices-container');
        const feedbackContainerEl = document.getElementById('feedback-container');
        const feedbackTextEl = document.getElementById('feedback-text');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const scoreEl = document.getElementById('score');
        const finalScoreContainerEl = document.getElementById('final-score-container');
        const finalScoreEl = document.getElementById('final-score');
        const scenarioContainerEl = document.getElementById('scenario-container');
        const scoreContainerEl = document.getElementById('score-container');

        // --- Render Functions ---
        function renderNav() {
            const navContainer = document.getElementById('challenges-nav');
            challenges.forEach((challenge, index) => {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                btn.dataset.target = `challenge-${challenge.id}`;
                btn.textContent = `${index + 1}. ${challenge.title}`;
                navContainer.appendChild(btn);
            });
        }

        function renderContentSections() {
            challenges.forEach(challenge => {
                const section = document.createElement('div');
                section.id = `challenge-${challenge.id}`;
                section.className = 'content-section hidden';
                section.innerHTML = `
                    <h2 class="section-header">${challenge.title}</h2>
                    <div class="content-box">
                        <h3>The Challenge</h3>
                        <p>${challenge.description}</p>
                        <h4>Solutions & Mitigations:</h4>
                        ${challenge.solution}
                        <div class="risk-rating-container">
                            <label for="risk-slider-${challenge.id}">How would you rate the societal risk of this challenge?</label>
                            <input type="range" min="1" max="5" value="3" class="risk-slider" id="risk-slider-${challenge.id}">
                            <div class="risk-labels">
                                <span>Low</span>
                                <span>Medium</span>
                                <span>Critical</span>
                            </div>
                            <button class="submit-risk-btn" data-challenge="${challenge.id}">Submit Rating</button>
                            <div class="risk-feedback" id="risk-feedback-${challenge.id}"></div>
                        </div>
                    </div>
                `;
                contentArea.appendChild(section);
            });

            const introSection = document.createElement('div');
            introSection.id = 'intro-section';
            introSection.className = 'content-section';
            introSection.innerHTML = `
                <h2 class="section-header">Welcome to the AI Ethics Explorer</h2>
                <div class="content-box">
                    <p>Artificial Intelligence is rapidly transforming our world, offering incredible opportunities and significant challenges. As we integrate AI into more aspects of our lives, it's crucial to understand and navigate the complex ethical questions that arise.</p>
                    <p>This tool is designed to help you explore the key ethical dilemmas in AI. Use the menu on the left to learn about each challenge, then test your understanding in the Knowledge Check.</p>
                </div>
            `;
            contentArea.appendChild(introSection);

            const connectionsSection = document.createElement('div');
            connectionsSection.id = 'connections-section';
            connectionsSection.className = 'content-section hidden';
            connectionsSection.innerHTML = `
                <h2 class="section-header">Solution Explorer</h2>
                <div class="content-box">
                    <p>Problems and solutions are deeply interconnected. Select a dilemma to see which solution types are most effective in addressing it. A higher score indicates a stronger connection and effectiveness.</p>
                    <div id="connections-tool">
                        <div id="connections-controls">
                            <label for="connection-select" class="text-secondary">Select a Dilemma:</label>
                            <select id="connection-select" class="connection-select"></select>
                        </div>
                        <div id="connections-chart-container">
                            <canvas id="connections-chart"></canvas>
                        </div>
                    </div>
                </div>
            `;
            contentArea.appendChild(connectionsSection);
            
            const glossarySection = document.createElement('div');
            glossarySection.id = 'glossary-section';
            glossarySection.className = 'content-section hidden';
            glossarySection.innerHTML = `
                <h2 class="section-header">Glossary of Key Terms</h2>
                <div class="glossary-grid">
                    ${glossaryTerms.map(item => `
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">${item.term}</div>
                                <div class="flip-card-back">${item.definition}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            contentArea.appendChild(glossarySection);
        }
        
        function initializeConnectionsTool() {
            const select = document.getElementById('connection-select');
            if (!select) return;

            challenges.forEach((c, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = c.title;
                select.appendChild(option);
            });

            const ctx = document.getElementById('connections-chart').getContext('2d');
            const chartConfig = {
                type: 'radar',
                data: {
                    labels: ['Policy', 'Tech Safeguards', 'Human Oversight', 'AI Literacy'],
                    datasets: [{
                        label: 'Solution Effectiveness',
                        data: challenges[0].chartData,
                        backgroundColor: 'rgba(0, 191, 255, 0.2)',
                        borderColor: 'rgba(0, 191, 255, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(0, 191, 255, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(0, 191, 255, 1)'
                    }]
                },
                options: {
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(226, 232, 240, 0.2)' },
                            grid: { color: 'rgba(226, 232, 240, 0.2)' },
                            pointLabels: { color: 'var(--text-primary)', font: { size: 14 } },
                            ticks: {
                                color: 'var(--text-secondary)',
                                backdropColor: 'transparent',
                                stepSize: 1,
                                max: 5,
                                min: 0
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            };
            connectionsChart = new Chart(ctx, chartConfig);

            select.addEventListener('change', (e) => {
                const selectedIndex = e.target.value;
                connectionsChart.data.datasets[0].data = challenges[selectedIndex].chartData;
                connectionsChart.update();
            });
        }
        
        // --- Event Handlers ---
        function handleNavClick(e) {
            if (e.target.matches('.nav-btn')) {
                const targetId = e.target.dataset.target;
                
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');

                document.querySelectorAll('.content-section').forEach(sec => sec.classList.add('hidden'));
                assessmentContainerEl.classList.add('hidden');

                if (targetId === 'assessment-container') {
                    assessmentContainerEl.classList.remove('hidden');
                    resetQuizState();
                    loadScenario();
                } else {
                    const targetSection = document.getElementById(targetId);
                    if(targetSection) {
                        targetSection.classList.remove('hidden');
                        targetSection.classList.add('enhancedFadeIn');
                        if (targetId === 'connections-section' && !connectionsChart) {
                            initializeConnectionsTool();
                        }
                    }
                }
            }
        }

        function handleRiskSubmit(e) {
            if (e.target.matches('.submit-risk-btn')) {
                const challengeId = e.target.dataset.challenge;
                const feedbackEl = document.getElementById(`risk-feedback-${challengeId}`);
                feedbackEl.textContent = "Thank you for your input! Your perspective helps us understand these challenges better.";
                e.target.disabled = true;
            }
        }

        document.getElementById('nav-menu').addEventListener('click', handleNavClick);
        contentArea.addEventListener('click', handleRiskSubmit);

        // --- Assessment Functions ---
        function updateProgressBar() {
            const progress = (currentScenarioIndex / scenarios.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function loadScenario() {
            updateProgressBar();
            const currentScenario = scenarios[currentScenarioIndex];
            scenarioTextEl.textContent = currentScenario.scenario;
            choicesContainerEl.innerHTML = '';
            currentScenario.choices.forEach(choice => {
                const button = document.createElement('button');
                button.innerHTML = `<span>${choice.text}</span>`;
                button.classList.add('choice-btn');
                button.onclick = () => selectChoice(choice, button);
                choicesContainerEl.appendChild(button);
            });
        }

        function selectChoice(choice, button) {
            const isCorrect = choice.isCorrect;
            if (isCorrect) {
                score++;
                scoreEl.textContent = score;
                button.classList.add('correct');
            } else {
                button.classList.add('incorrect');
            }

            feedbackTextEl.textContent = choice.explanation;
            feedbackContainerEl.style.display = 'block';

            Array.from(choicesContainerEl.children).forEach(btn => {
                btn.disabled = true;
            });

            nextBtn.style.display = 'inline-block';
            
            const progress = ((currentScenarioIndex + 1) / scenarios.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function nextScenario() {
            currentScenarioIndex++;
            if (currentScenarioIndex < scenarios.length) {
                loadScenario();
                feedbackContainerEl.style.display = 'none';
                nextBtn.style.display = 'none';
            } else {
                showFinalScore();
            }
        }
        
        function showFinalScore() {
            scenarioContainerEl.classList.add('hidden');
            feedbackContainerEl.style.display = 'none';
            nextBtn.style.display = 'none';
            scoreContainerEl.style.display = 'none';
            document.getElementById('progress-bar-container').style.display = 'none';
            finalScoreContainerEl.classList.remove('hidden');
            finalScoreEl.textContent = `${score} out of ${scenarios.length}`;
        }
        
        function resetQuizState() {
            currentScenarioIndex = 0;
            score = 0;
            scoreEl.textContent = score;
            finalScoreContainerEl.classList.add('hidden');
            scenarioContainerEl.classList.remove('hidden');
            scoreContainerEl.style.display = 'block';
            feedbackContainerEl.style.display = 'none';
            nextBtn.style.display = 'none';
            document.getElementById('progress-bar-container').style.display = 'block';
            progressBar.style.width = '0%';
        }

        function restartGame() {
            resetQuizState();
            loadScenario();
        }

        nextBtn.addEventListener('click', nextScenario);
        restartBtn.addEventListener('click', restartGame);
        
        // --- Initial Load ---
        renderNav();
        renderContentSections();

    </script>

</body>
</html>
